"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5351],{33531:function(a,b,c){var d=c(7297),e=c(93999),f=c(44119),g=c.n(f);function h(){var a=(0,d.Z)(["\n  mutation createConsumerRating(\n    $orderUuid: ID\n    $consumerRatingList: [ConsumerRatingInput]\n    $metadata: CreateConsumerRatingMetadataInput\n    $testing: Boolean\n  ) {\n    createConsumerRating(\n      orderUuid: $orderUuid\n      consumerRatingList: $consumerRatingList\n      metadata: $metadata\n      testing: $testing\n    ) {\n      success\n      reviewChainingOrders {\n        orderList {\n          orderUuid\n          storeId\n          storeName\n          orderDateDisplay\n          isConsumerSubscriptionEligible\n          orderTotalDisplay\n          orderFulfilledAt\n          orderTarget\n          orderedItemList {\n            itemId\n            itemName\n            price {\n              currency\n              displayString\n              decimalPlaces\n              unitAmount\n              sign\n              symbol\n            }\n          }\n        }\n      }\n      error {\n        errorCode\n        errorMessage\n      }\n    }\n  }\n"]);return h=function(){return a},a}var i=g()(h()),j=function(a,b,c,d,f){return(0,e.useMutation)(i,{variables:{orderUuid:a,consumerRatingList:b,metadata:c,testing:d},onCompleted:function(a){var b,c;return(a.createConsumerRating.success&&(null===(b=a.createConsumerRating.error)||void 0===b?void 0:b.errorMessage)==null&&f&&f(),a.createConsumerRating.success&&(null===(c=a.createConsumerRating.error)||void 0===c?void 0:c.errorMessage)==null)?"success":null}})};b.Z=j},38471:function(a,b,c){c.d(b,{Ct:function(){return p},dg:function(){return n},lL:function(){return o},vj:function(){return q},zw:function(){return m}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  margin: auto;\n  padding: ","px;\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  height: ","px;\n  width: ","px;\n  img {\n    height: ","px;\n    max-width: ","px;\n    border-radius: ","px;\n    object-fit: cover;\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  height: ","px;\n  width: ","px;\n  img {\n    height: ","px;\n    max-width: ","px;\n    border-radius: ","px;\n    object-fit: cover;\n  }\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  margin-bottom: ","px;\n  height: ","px;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: ","px;\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n"]);return l=function(){return a},a}var m=f.default.div.withConfig({componentId:"sc-340a210-0"})(g(),e.Spacing.XxxLarge),n=f.default.div.withConfig({componentId:"sc-340a210-1"})(h(),64,64,64,64,e.BorderRadius.Small);f.default.div.withConfig({componentId:"sc-340a210-2"})(i(),40,40,40,40,e.BorderRadius.Small);var o=f.default.div.withConfig({componentId:"sc-340a210-3"})(j(),e.Spacing.Small,64),p=f.default.div.withConfig({componentId:"sc-340a210-4"})(k(),64),q=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Body1}}).withConfig({componentId:"sc-340a210-5"})(l())},62367:function(a,b,c){c.d(b,{FV:function(){return t},Fu:function(){return j},H5:function(){return o},KG:function(){return n},MH:function(){return w},OI:function(){return r},c7:function(){return k},cG:function(){return l},eu:function(){return s},lr:function(){return p},tt:function(){return q}});var d=c(10253),e=c(33574),f=c(11459),g=c(23685),h=c(80708),i=c(24906),j={REVIEW_SUBMISSION_MODAL:"REVIEW_SUBMISSION_MODAL",REVIEW_SUCCESS_MODAL:"REVIEW_SUCCESS_MODAL"},k={ORDER_TARGET_UNSPECIFIED:0,ORDER_TARGET_RESTAURANT:1,ORDER_TARGET_GROCERY:2},l={RATING_REQUIRED_ERROR:h.Z.ratingRequired(),MIN_CHAR_LENGTH_ERROR:h.Z.minChars10(),MAX_CHAR_LENGTH_ERROR:h.Z.maxCharLimit()},m={REVIEW_DISPLAY_STATUS_UNSPECIFIED:"REVIEW_DISPLAY_STATUS_UNSPECIFIED",REVIEW_DISPLAY_STATUS_PUBLIC:"REVIEW_DISPLAY_STATUS_PUBLIC",REVIEW_DISPLAY_STATUS_PRIVATE:"REVIEW_DISPLAY_STATUS_PRIVATE"},n={TARGET_TYPE_UNSPECIFIED:0,TARGET_TYPE_STORE:1,TARGET_TYPE_DASHER:2,TARGET_TYPE_STORE_PICKUP:3,TARGET_TYPE_ITEM:4},o=10,p=2e3,q=function(a,b){return a?(0,e.formatDateTimeFromIsoString)({isoString:a,locale:g.default.getCurrentLocale(),dateOptions:e.DefaultDateTimeFormat.DATE_TIME_SHORT.value,timeZone:b}):""},r=function(a){return a?{state:i.default.States.Loading}:{state:i.default.States.Default}},s=function(a){return a===j.REVIEW_SUBMISSION_MODAL?h.Z.submitReviewBtn():a===j.REVIEW_SUCCESS_MODAL?h.Z.gotItBtn():""},t=function(a,b,c,e,g,h,i,j){var k=null==a?void 0:a.targetRatingSectionList,l=null==k?void 0:k[0],o=null==k?void 0:k[1],p=g?m.REVIEW_DISPLAY_STATUS_PUBLIC:m.REVIEW_DISPLAY_STATUS_PRIVATE,q=[];if(c){var r,s,t,w,x={target:{targetId:null!==(t=null==l?void 0:null===(r=l.target)||void 0===r?void 0:r.targetId)&&void 0!==t?t:0,targetType:null!==(w=null==l?void 0:null===(s=l.target)||void 0===s?void 0:s.targetType)&&void 0!==w?w:n.TARGET_TYPE_UNSPECIFIED},starRating:c,reviewText:e,displayStatusNew:f.OB[p],markedUpReviewText:h};q.push(x)}if(i){var y,z,A,B,C={target:{targetId:null!==(A=null==o?void 0:null===(y=o.target)||void 0===y?void 0:y.targetId)&&void 0!==A?A:0,targetType:null!==(B=null==o?void 0:null===(z=o.target)||void 0===z?void 0:z.targetType)&&void 0!==B?B:n.TARGET_TYPE_UNSPECIFIED},starRating:i,tagList:v(j),displayStatusNew:f.OB[m.REVIEW_DISPLAY_STATUS_PRIVATE]};q.push(C)}var D=Array.from(b,function(a){var b=(0,d.Z)(a,2),c=b[0],e=b[1];return{itemId:c,itemRating:e}});return q.concat(u(D))},u=function(a){return a.map(function(a){return{target:{targetId:a.itemId,targetType:n.TARGET_TYPE_ITEM},ratingInfo:{ratingType:f.IA.RATING_TYPE_VOTE_RATING,ratingValue:a.itemRating}}})},v=function(a){return null==a?void 0:a.map(function(a){var b,c;return{tagName:null!==(b=null==a?void 0:a.tagName)&&void 0!==b?b:null,tagId:null!==(c=null==a?void 0:a.tagId)&&void 0!==c?c:null}})},w=function(a,b,c,d,e,f,g){if(!b){e(l.RATING_REQUIRED_ERROR);return}if(a===j.REVIEW_SUBMISSION_MODAL){var h=d;c.length>0&&c.length<o?h=l.MIN_CHAR_LENGTH_ERROR:c.length>p?h=l.MAX_CHAR_LENGTH_ERROR:c||(h=null),e(h),h||f()}else g()}},46018:function(a,b,c){c.d(b,{Z:function(){return y}});var d=c(10253),e=c(85893),f=c(67294),g=c(37975),h=c(53698),i=c(31280),j=c(10071),k=c(7297),l=c(87379);function m(){var a=(0,k.Z)(["\n  font-family: ",";\n  .mentions_styles__input {\n    &:focus,\n    &:focus-visible {\n      background-color: ",";\n      color: ",";\n      background-color: ",";\n      box-shadow: rgb(25, 25, 25) 0px 0px 0px 2px inset;\n      outline: none;\n    }\n  }\n\n  .mentions_styles__suggestions {\n    margin-top: ","px !important;\n    width: ","px;\n    box-shadow: ",";\n  }\n\n  border-radius: ","px;\n  ",";\n"]);return m=function(){return a},a}function n(){var a=(0,k.Z)(["\n  height: ","px;\n  width: ","px;\n  img {\n    height: ","px;\n    max-width: ","px;\n    border-radius: ","px;\n    object-fit: cover;\n  }\n"]);return n=function(){return a},a}var o=(0,j.withTheming)(l.default.div.withConfig({componentId:"sc-a0a8634e-0"})(m(),function(a){return a.isCaviar?"".concat('"Caviar-Market", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'):"".concat('"DD-TTNorms", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"')},j.Colors.BackgroundSecondary,j.Colors.CardBorderSelectedDefault,function(a){return a.theme.Colors.BackgroundSecondary},19,310,j.Shadows.Base,j.BorderRadius.Medium,function(a){var b=a.error;return function(a){var c=a.theme;return b&&"color: ".concat(c.Colors.FieldsBorderError,";\n      box-shadow: ").concat(c.Colors.FieldsBorderError," 0px 0px 0px 2px inset;\n      outline: none;\n      background-color: ").concat(c.Colors.FieldsBackgroundError)}})),p={"&multiLine":{control:{minHeight:112},highlighter:{padding:"".concat(j.Spacing.XSmall,"px"),borderRadius:"".concat(j.Spacing.XxSmall,"px"),border:"none",fontWeight:500},input:{padding:"".concat(j.Spacing.XSmall,"px"),borderRadius:"".concat(j.Spacing.XxSmall,"px"),border:"none",fontWeight:500}},suggestions:{item:{padding:"".concat(j.Spacing.XxSmall,"px"),borderBottom:"1px solid ".concat(j.Colors.SystemGrey5),"&focused":{backgroundColor:"".concat(j.Colors.BackgroundSecondary)}}}},q={textDecoration:"underline",textDecorationColor:"".concat(j.Colors.SystemGrey100)},r=l.default.div.withConfig({componentId:"sc-a0a8634e-1"})(n(),40,40,40,40,j.BorderRadius.Small),s=c(97137),t=/((\S{3,}))$/,u=/[^a-zA-Z0-9\-]+/,v=new Set(["the","in","with","and"]),w=function(a){var b=[];if(null!=a){var c=!0,d=!1,e=void 0;try{for(var f,g=a[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;if(null!=h&&null!=h.itemName&&null!=h.itemId){var i=h.itemName.toLowerCase();b.push({id:h.itemId,display:h.itemName,lowerCaseName:i,words:i.split(" ").filter(function(a){return!v.has(a)}),alphaNumericWords:i.split(u).map(function(a){return a.startsWith("-")&&(a=a.substring(1)),a}).filter(function(a){return!v.has(a)})})}}}catch(j){d=!0,e=j}finally{try{c||null==g.return||g.return()}finally{if(d)throw e}}}return b},x=function(a,b,c,d,e,f,g){var h,i,j,k=a.startPos,l=a.display,m=null!==(i=null===(h=b.current)||void 0===h?void 0:h.selectionStart)&&void 0!==i?i:0,n=c.slice(0,k-1),o=null!==(j=n.lastIndexOf(" "))&&void 0!==j?j:0,p=n.split(" ").pop();if(p&&p.length>=3&&l.toLowerCase().startsWith(p.toLowerCase())){var q=c.slice(0,o+1)+c.slice(k),r=e.slice(0,m-(p.length+1)-(l.length+1))+e.slice(m-l.length-1);d(q),f(r),g(m-p.length-1)}},y=function(a){var b,c,k=a.onMarkedUpTextChange,l=a.onTextChange,m=a.orderItemList,n=a.markedUpText,u=a.plainText,v=a.placeholderText,y=a.storeId,z=a.orderUuid,A=a.charLengthError,B=(0,d.Z)(f.useState(),2),C=B[0],D=B[1],E=(0,d.Z)(f.useState(),2),F=E[0],G=E[1];f.useEffect(function(){if(F){var a;null===(a=K.current)||void 0===a||a.setSelectionRange(F,F)}G(null)},[F,G]),f.useEffect(function(){C&&(x(C,K,n,k,u,l,G),(0,s.d5)(y,C.itemId,z)),D(null)},[C,D,k,n,l,u,z,y,]);var H,I=(b=k,c=l,f.useCallback(function(a,d,e){c(e),b(d)},[c,b])),J=(H=D,f.useCallback(function(a,b,c){H({itemId:a,startPos:c,display:b})},[H])),K=f.useRef(null),L=(0,h.Z)(),M=L.isCaviar,N=f.useMemo(function(){return w(m)},[m,]),O={};null==m||m.forEach(function(a){if("number"==typeof(null==a?void 0:a.itemId)){var b;O[a.itemId]={imageUrl:null==a?void 0:null===(b=a.image)||void 0===b?void 0:b.url,categoryName:a.categoryName}}});var P=function(a){var b,c,d=null!==(b=O[a.id].imageUrl)&&void 0!==b?b:"",f=null!==(c=O[a.id].categoryName)&&void 0!==c?c:"";return(0,e.jsx)(i.ZP,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j.Text,{styles:j.Text.Styles.Bold14,color:j.Text.Colors.TextPrimary,children:a.display}),(0,e.jsx)(j.Text,{styles:j.Text.Styles.Medium14,color:j.Text.Colors.TextSecondary,children:f})]}),titleMaxLines:2,isSeparatorVisible:!1,isSquished:!0,secondaryTitleStart:d.length>0?(0,e.jsx)(r,{children:(0,e.jsx)("img",{src:d,alt:"",role:"img","aria-hidden":!0})}):null,secondaryTitleAlignment:i.ZP.Alignment.Center,insetSize:j.Inset.Sizes.None,columnGapSize:j.Inset.Sizes.XxSmall},a.id)};return(0,e.jsx)(o,{isCaviar:M,error:A,children:(0,e.jsx)(g.r,{placeholder:null!=v?v:"",value:n,onChange:I,style:p,className:"mentions_styles","data-testid":"mentions-input",inputRef:K,children:(0,e.jsx)(g.p,{trigger:t,appendSpaceOnAdd:!0,data:function(a){return N.filter(function(b){return a=a.toLowerCase(),!!(b.words.some(function(b){return b.startsWith(a)})||b.alphaNumericWords.some(function(b){return b.startsWith(a)}))})},style:q,markup:"<<taggedItemId=__id__>>__display__<</taggedItemId>>",renderSuggestion:P,onAdd:J})})})}},86830:function(a,b,c){c.d(b,{Z:function(){return l}});var d=c(85893);c(67294);var e=c(53390),f=c(7297),g=c(87379),h=c(10071);function i(){var a=(0,f.Z)(["\n  background-color: ",";\n  textarea {\n    padding: 0;\n    border-radius: ","px;\n  }\n"]);return i=function(){return a},a}var j=g.default.div.withConfig({componentId:"sc-dc33d505-0"})(i(),h.Colors.BackgroundSecondary,h.BorderRadius.None),k=c(62367),l=function(a){var b=a.onTextChange,c=a.fieldText,f=a.placeholderText,g=a.charLengthError;return(0,d.jsx)(j,{children:(0,d.jsx)(e.TextField,{label:"",value:c,placeholder:f||void 0,onChange:function(a){b(a)},error:g,isMultiline:6,maxLength:k.lr})})}},91609:function(a,b,c){c.d(b,{Z:function(){return l}});var d=c(85893);c(67294);var e=c(10071),f=c(7297),g=c(87379);function h(){var a=(0,f.Z)(["\n  margin-top: ","px;\n"]);return h=function(){return a},a}var i=g.default.div.withConfig({componentId:"sc-b593ba81-0"})(h(),e.Spacing.XxSmall),j=c(62367),k=c(80708),l=function(a){var b=a.fieldTextLength,c=a.ratingsValidationError,f=a.isPublicDisplay;if(c===j.cG.RATING_REQUIRED_ERROR)return(0,d.jsx)(i,{children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.ErrorFill,color:e.Colors.TextError,size:e.Icon.Sizes.Medium}),(0,d.jsx)(e.Text,{color:e.Colors.SystemRed80,styles:e.Text.Styles.Medium14,children:j.cG.RATING_REQUIRED_ERROR})]})});if(c===j.cG.MAX_CHAR_LENGTH_ERROR)return(0,d.jsx)(i,{children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.ErrorFill,color:e.Colors.TextError,size:e.Icon.Sizes.Medium}),(0,d.jsx)(e.Text,{color:e.Colors.SystemRed80,styles:e.Text.Styles.Medium14,children:j.cG.MAX_CHAR_LENGTH_ERROR})]})});if(b<10){var g=c===j.cG.MIN_CHAR_LENGTH_ERROR;return(0,d.jsx)(i,{children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[g&&(0,d.jsx)(e.Icon,{type:e.Icon.Types.ErrorFill,color:e.Colors.TextError,size:e.Icon.Sizes.Medium}),(0,d.jsx)(e.Text,{color:g?e.Colors.SystemRed80:e.Colors.SystemGrey60,styles:e.Text.Styles.Medium14,children:j.cG.MIN_CHAR_LENGTH_ERROR})]})})}return b>=10&&b<50?(0,d.jsx)(i,{children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.InsightFill,size:e.Icon.Sizes.Medium,color:e.Icon.Colors.SystemTeal60}),(0,d.jsx)(e.Text,{color:e.Colors.SystemTeal60,styles:e.Text.Styles.Medium14,children:f?k.Z.addingMoreDetails():k.Z.addingDetailsMerchants()})]})}):b>=50?(0,d.jsx)(i,{children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.ThumbsUpLine,size:e.Icon.Sizes.Medium,color:e.Icon.Colors.SystemTeal60}),(0,d.jsx)(e.Text,{color:e.Colors.SystemTeal60,styles:e.Text.Styles.Medium14,children:f?k.Z.fellowCustomers():k.Z.merchantsAppreciate()})]})}):null}},89477:function(a,b,c){c.d(b,{Z:function(){return r}});var d=c(85893);c(67294);var e=c(10071),f=c(95899),g=c(31280),h=c(84518),i=c(11698),j=c(7297),k=c(87379);function l(){var a=(0,j.Z)(["\n  margin-left: ","px;\n"]);return l=function(){return a},a}var m=(0,k.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Bold22}}).withConfig({componentId:"sc-8474e30f-0"})(l(),e.Spacing.Small),n=c(80708),o=c(19128),p=c(97137),q=c(44197),r=function(a){var b=a.orders,c=a.setStoreInfo,j=a.setOrderUuid,k=a.setStarRating,l=(0,i.ac)().isMobile,r=function(a){var b,f,i;return(0,d.jsx)(g.ZP,{accessibilityRole:"listItem",subtext:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,children:(0,o.fI)(null!==(b=a.orderFulfilledAt)&&void 0!==b?b:"")}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,children:(i=null!==(f=a.orderedItemList)&&void 0!==f?f:[]).reduce(function(a,b){var c=null==b?void 0:b.itemName;return null==c||0===c.length?a:0===a.length?c:a+", "+c},"")})]}),renderBelowContent:l?function(){return(0,d.jsx)(h.Z,{setStarRating:function(b){var d,e;c&&null!=a.storeId&&a.storeName&&c({storeId:a.storeId.toString(),storeName:a.storeName,storeCoverImg:"",isChainedReview:!0}),j&&a.orderUuid&&j(a.orderUuid),k(b),(0,p.Wh)(null!==(d=a.orderUuid)&&void 0!==d?d:"",null!==(e=a.storeId)&&void 0!==e?e:"")},starRating:null,starSvg:q.D})}:void 0,title:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Text,{children:a.storeName}),a.isConsumerSubscriptionEligible&&(0,d.jsx)(e.Icon,{type:e.Icon.Types.LogoDashpassNew,size:e.Icon.Sizes.Medium,color:e.Icon.Colors.TextDashpass})]}),subtextMaxLines:2,secondaryTitleAlignment:g.ZP.Alignment.Center,secondaryTitleEnd:!l&&(0,d.jsx)(h.Z,{setStarRating:function(b){var d,e;c&&null!=a.storeId&&a.storeName&&c({storeId:a.storeId.toString(),storeName:a.storeName,storeCoverImg:"",isChainedReview:!0}),j&&a.orderUuid&&j(a.orderUuid),k(b),(0,p.Wh)(null!==(d=a.orderUuid)&&void 0!==d?d:"",null!==(e=a.storeId)&&void 0!==e?e:"")},starRating:null,starSvg:q.D}),onClick:function(){var b,d;c&&null!=a.storeId&&a.storeName&&c({storeId:a.storeId.toString(),storeName:a.storeName,storeCoverImg:"",isChainedReview:!0}),j&&a.orderUuid&&j(a.orderUuid),k(null),(0,p.Wh)(null!==(b=a.orderUuid)&&void 0!==b?b:"",null!==(d=a.storeId)&&void 0!==d?d:"")}},a.orderUuid)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.default,{type:f.default.Types.FullBorder,verticalMargin:e.Spacing.Medium}),(0,d.jsx)(m,{children:n.Z.reviewMoreStores()}),(0,d.jsx)(e.StackChildren,{children:b.map(function(a){return r(a)})})]})}},94394:function(a,b,c){c.d(b,{Z:function(){return D}});var d=c(85893),e=c(10071);c(67294);var f=c(7297),g=c(87379);function h(){var a=(0,f.Z)(["\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n  border-radius: ","px;\n  width: 400px;\n  margin: auto;\n  margin-top: ","px;\n"]);return h=function(){return a},a}function i(){var a=(0,f.Z)(["\n  margin-left: 0 !important;\n"]);return i=function(){return a},a}function j(){var a=(0,f.Z)(["\n  float: right;\n  background-color: ",";\n  border-radius: ","px;\n  padding: ","px ","px;\n"]);return j=function(){return a},a}var k=(0,g.default)(e.Inset).attrs(function(){return{size:e.Inset.Sizes.Large}}).withConfig({componentId:"sc-19519b4f-0"})(h(),e.BorderRadius.Medium,e.Spacing.Small),l=(0,g.default)(e.Icon).attrs(function(){return{type:e.Icon.Types.LogoDoordash,size:e.Icon.Sizes.Medium,color:e.Icon.Colors.SystemRed60}}).withConfig({componentId:"sc-19519b4f-1"})(i()),m=g.default.div.withConfig({componentId:"sc-19519b4f-2"})(j(),e.Colors.SystemGrey5,e.BorderRadius.Small,e.Spacing.XxxxSmall,e.Spacing.XxxSmall),n=c(88681),o=c(31280);function p(){var a=(0,f.Z)(["\n  height: ","px;\n  min-width: ","px;\n  max-width: ","px;\n  border: 1px solid ",";\n  margin-right: ","px;\n  border-radius: ","px;\n  padding: 0;\n  background-color: ",";\n"]);return p=function(){return a},a}function q(){var a=(0,f.Z)(["\n  height: ","px;\n  max-width: ","px;\n  border: 1px solid ",";\n  margin-right: ","px;\n  border-radius: ","px;\n  padding: 0;\n  background-color: ",";\n"]);return q=function(){return a},a}function r(){var a=(0,f.Z)(["\n  flex-shrink: 0;\n  width: ","px;\n  height: ","px;\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  border-radius: 0 ","px ","px 0;\n"]);return r=function(){return a},a}function s(){var a=(0,f.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: ","px ","px 0 ","px;\n  padding: ",";\n  text-align: ",";\n"]);return s=function(){return a},a}function t(){var a=(0,f.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: ","px 0 0 ","px;\n"]);return t=function(){return a},a}var u=g.default.div.withConfig({componentId:"sc-b57fef73-0"})(p(),64,238,240,e.Colors.BorderPrimary,e.Spacing.XxSmall,e.BorderRadius.Medium,e.Colors.BackgroundPrimary),v=g.default.div.withConfig({componentId:"sc-b57fef73-1"})(q(),64,240,e.Colors.BorderPrimary,e.Spacing.XxSmall,e.BorderRadius.Medium,e.Colors.BackgroundPrimary),w=g.default.div.withConfig({componentId:"sc-b57fef73-2"})(r(),63,63,function(a){return a.imageUrl},e.BorderRadius.Medium,e.BorderRadius.Medium),x=(0,g.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Bold14}}).withConfig({componentId:"sc-b57fef73-3"})(s(),e.Spacing.XxSmall,e.Spacing.XxSmall,e.Spacing.XSmall,function(a){return a.noPrice?"".concat(e.Spacing.Medium,"px ").concat(e.Spacing.XxSmall,"px 0 ").concat(e.Spacing.XSmall,"px"):"".concat(e.Spacing.XxSmall,"px ").concat(e.Spacing.XxSmall,"px 0 ").concat(e.Spacing.XSmall,"px")},function(a){return a.noPrice?"center":"none"}),y=(0,g.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Medium14,color:e.Text.Colors.SystemGrey70}}).withConfig({componentId:"sc-b57fef73-4"})(t(),e.Spacing.XxxSmall,e.Spacing.XSmall),z=c(80708),A=function(a){var b,c,f,g,h=a.orderItems;if(!(null==h?void 0:h[0]))return null;var i=null==h?void 0:h[0];return(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.None,children:[(0,d.jsx)(u,{children:(0,d.jsx)(o.ZP,{title:(0,d.jsx)(x,{noPrice:(null==i?void 0:null===(b=i.price)||void 0===b?void 0:null===(c=b.displayString)||void 0===c?void 0:c.length)===0,children:null==i?void 0:i.itemName}),subtext:(null==i?void 0:null===(f=i.price)||void 0===f?void 0:f.displayString)?(0,d.jsx)(y,{styles:e.Text.Styles.Medium14,children:i.price.displayString}):null,secondaryTitleEnd:(null==i?void 0:null===(g=i.image)||void 0===g?void 0:g.url)?(0,d.jsx)(w,{imageUrl:i.image.url}):null,insetSize:e.Inset.Sizes.None,titleMaxLines:1,subtextMaxLines:1,isSeparatorVisible:!1})}),h&&h.length>1&&(0,d.jsx)(v,{children:(0,d.jsx)(o.ZP,{title:(0,d.jsx)(x,{noPrice:!0,children:h.length>2?z.Z.plusItems(h.length-1):z.Z.plusOneItem()}),insetSize:e.Inset.Sizes.None,titleMaxLines:1,subtextMaxLines:1,isSeparatorVisible:!1})})]})},B=c(24112),C=c(24401),D=function(a){var b=a.consumerDisplayName,c=a.starRating,f=a.freeText,g=a.markedUpText,h=a.orderItems,i=a.storeId,j=(0,C.ZP)(C.P$.webAutocomplete);return(0,d.jsxs)(k,{children:[(0,d.jsx)(e.Stack,{size:e.Stack.Sizes.XxxSmall,children:(0,d.jsxs)(e.InlineChildren,{justifyContent:e.InlineChildren.Justification.SpaceBetween,children:[(0,d.jsx)(e.Text,{styles:e.Text.Styles.Bold16,children:b}),(0,d.jsx)(m,{children:(0,d.jsxs)(e.InlineChildren,{alignItems:e.InlineChildren.Alignment.Center,size:e.InlineChildren.Sizes.XxxxSmall,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.InfoLine,size:e.Icon.Sizes.Small}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.Bold12,children:z.Z.pending()})]})})]})}),(0,d.jsx)(e.Stack,{size:e.Stack.Sizes.XxxSmall,children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[c&&(0,d.jsx)(n.Z,{starRating:c}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,children:"• ".concat(z.Z.reviewToday()," ")}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,children:"• ".concat(z.Z.reviewedOn()," ")}),(0,d.jsx)(l,{})]})}),(0,d.jsx)(e.Stack,{size:e.Stack.Sizes.XxSmall,children:j?(0,d.jsx)(B.Z,{onItemSelected:function(){},rawReviewText:null!=f?f:"",markedUpText:null!=g?g:void 0,isClickable:!0,storeId:i,reviewId:null,taggedItemIds:new Set,trackingUseCase:"preview"}):(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium16,children:f})}),(0,d.jsx)(A,{orderItems:h})]})}},84518:function(a,b,c){c.d(b,{Z:function(){return q}});var d=c(10253),e=c(85893),f=c(67294),g=c(10071),h=c(7297),i=c(87379);function j(){var a=(0,h.Z)(["\n  flex-shrink: 0;\n  cursor: pointer;\n"]);return j=function(){return a},a}function k(){var a=(0,h.Z)(["\n  display: flex;\n"]);return k=function(){return a},a}function l(){var a=(0,h.Z)(["\n  all: unset;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 ","px ",";\n  }\n"]);return l=function(){return a},a}var m=(0,i.default)(g.InlineChildren).attrs(function(){return{size:g.InlineChildren.Sizes.XxSmall,alignItems:g.InlineChildren.Alignment.Center,justifyContent:g.InlineChildren.Justification.SpaceBetween}}).withConfig({componentId:"sc-4518711e-0"})(j()),n=i.default.div.withConfig({componentId:"sc-4518711e-1"})(k()),o=i.default.button.withConfig({componentId:"sc-4518711e-2"})(l(),g.BorderWidth.Bold,g.Colors.SystemBlue60),p=function(a){var b=a.setStarRating,c=a.setHoverStarRating,d=a.displayRating,h=a.rating,i=a.starSvg,j=null!=d&&d>=h,k=f.useMemo(function(){return function(){return c(h)}},[]),l=f.useMemo(function(){return function(){return b(h)}},[]);return(0,e.jsx)(o,{tabIndex:0,onClick:function(a){l(),a.stopPropagation(),a.preventDefault()},children:(0,e.jsx)("svg",{width:i.width,height:i.height,viewBox:i.viewBox,fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:k,children:(0,e.jsx)("path",{fillRule:j?void 0:i.evenOdd,clipRule:j?void 0:i.evenOdd,d:j?i.filledStar:i.unFilledStar,fill:j?g.Colors.SystemGrey80:g.Colors.SystemGrey30})})})},q=function(a){var b=a.starSvg,c=a.starRating,g=a.setStarRating,h=(0,d.Z)(f.useState(null),2),i=h[0],j=h[1],k=f.useMemo(function(){return function(){return j(null)}},[]),l=null!=i?i:c;return(0,e.jsx)(m,{onMouseLeave:k,children:(0,e.jsxs)(n,{children:[(0,e.jsx)(p,{setStarRating:g,setHoverStarRating:j,displayRating:l,starSvg:b,rating:1}),(0,e.jsx)(p,{setStarRating:g,setHoverStarRating:j,displayRating:l,starSvg:b,rating:2}),(0,e.jsx)(p,{setStarRating:g,setHoverStarRating:j,displayRating:l,starSvg:b,rating:3}),(0,e.jsx)(p,{setStarRating:g,setHoverStarRating:j,displayRating:l,starSvg:b,rating:4}),(0,e.jsx)(p,{setStarRating:g,setHoverStarRating:j,displayRating:l,starSvg:b,rating:5})]})})}},44197:function(a,b,c){c.d(b,{D:function(){return d},M:function(){return e}});var d={evenOdd:"evenodd",unFilledStar:"M12 2C12.3929 2 12.7494 2.23012 12.9112 2.58819L15.184 7.61753L20.6695 8.22492C21.0601 8.26817 21.3891 8.53612 21.5105 8.90983C21.632 9.28354 21.5233 9.69372 21.2327 9.95826L17.1519 13.674L18.2693 19.0787C18.3489 19.4635 18.1957 19.8592 17.8778 20.0902C17.5599 20.3211 17.1362 20.3445 16.7949 20.1499L12 17.417L7.20509 20.1499C6.86371 20.3445 6.44001 20.3211 6.12212 20.0902C5.80423 19.8592 5.65106 19.4635 5.73062 19.0787L6.84808 13.674L2.76722 9.95826C2.47667 9.69372 2.36799 9.28354 2.48941 8.90983C2.61083 8.53612 2.93986 8.26817 3.33041 8.22492L8.81593 7.61753L11.0887 2.58819C11.2505 2.23012 11.607 2 12 2ZM12 5.42832L10.4038 8.96054C10.2583 9.28249 9.95369 9.50378 9.60254 9.54266L5.74994 9.96924L8.61602 12.5789C8.87725 12.8167 8.99359 13.1748 8.92205 13.5207L8.13724 17.3166L11.5048 15.3972C11.8117 15.2223 12.1882 15.2223 12.4952 15.3972L15.8627 17.3166L15.0779 13.5207C15.0064 13.1748 15.1227 12.8167 15.3839 12.5789L18.25 9.96924L14.3974 9.54266C14.0463 9.50378 13.7417 9.28249 13.5962 8.96054L12 5.42832Z",filledStar:"M12.9112 2.58819C12.7494 2.23012 12.3929 2 12 2C11.607 2 11.2505 2.23012 11.0887 2.58819L8.81593 7.61753L3.33041 8.22492C2.93986 8.26817 2.61083 8.53612 2.48941 8.90983C2.36799 9.28354 2.47667 9.69372 2.76722 9.95826L6.84808 13.674L5.73062 19.0787C5.65106 19.4635 5.80423 19.8592 6.12212 20.0902C6.44001 20.3211 6.86371 20.3445 7.20509 20.1499L12 17.417L16.7949 20.1499C17.1362 20.3445 17.5599 20.3211 17.8778 20.0902C18.1957 19.8592 18.3489 19.4635 18.2693 19.0787L17.1519 13.674L21.2327 9.95826C21.5233 9.69372 21.632 9.28354 21.5105 8.90983C21.3891 8.53612 21.0601 8.26817 20.6695 8.22492L15.184 7.61753L12.9112 2.58819Z",width:"32",height:"32",viewBox:"0 0 24 24"},e={evenOdd:"evenodd",unFilledStar:"M20 3.33325C20.6549 3.33325 21.2491 3.71679 21.5187 4.31357L25.3067 12.6958L34.4492 13.7081C35.1001 13.7802 35.6485 14.2268 35.8509 14.8496C36.0533 15.4725 35.8721 16.1561 35.3879 16.597L28.5865 22.7898L30.4489 31.7977C30.5815 32.4391 30.3262 33.0986 29.7964 33.4835C29.2666 33.8685 28.5604 33.9075 27.9914 33.5832L20 29.0283L12.0085 33.5832C11.4395 33.9075 10.7334 33.8685 10.2035 33.4835C9.67371 33.0986 9.41843 32.4391 9.55103 31.7977L11.4135 22.7898L4.61203 16.597C4.12779 16.1561 3.94664 15.4725 4.14902 14.8496C4.35139 14.2268 4.89977 13.7802 5.55069 13.7081L14.6932 12.6958L18.4812 4.31357C18.7509 3.71679 19.3451 3.33325 20 3.33325ZM20 9.04713L17.3396 14.9342C17.0971 15.4707 16.5895 15.8395 16.0042 15.9044L9.58323 16.6153L14.36 20.9647C14.7954 21.3611 14.9893 21.9579 14.8701 22.5345L13.5621 28.8609L19.1747 25.6619C19.6862 25.3704 20.3137 25.3704 20.8253 25.6619L26.4378 28.8609L25.1298 22.5345C25.0106 21.9579 25.2045 21.3611 25.6399 20.9647L30.4167 16.6153L23.9957 15.9044C23.4104 15.8395 22.9028 15.4707 22.6603 14.9342L20 9.04713Z",filledStar:"M21.5187 4.31357C21.2491 3.71679 20.6549 3.33325 20 3.33325C19.3451 3.33325 18.7509 3.71679 18.4812 4.31357L14.6932 12.6958L5.55069 13.7081C4.89977 13.7802 4.35139 14.2268 4.14902 14.8496C3.94664 15.4725 4.12779 16.1561 4.61203 16.597L11.4135 22.7898L9.55103 31.7977C9.41843 32.4391 9.67371 33.0986 10.2035 33.4835C10.7334 33.8685 11.4395 33.9075 12.0085 33.5832L20 29.0283L27.9914 33.5832C28.5604 33.9075 29.2666 33.8685 29.7964 33.4835C30.3262 33.0986 30.5815 32.4391 30.4489 31.7977L28.5865 22.7898L35.3879 16.597C35.8721 16.1561 36.0533 15.4725 35.8509 14.8496C35.6485 14.2268 35.1001 13.7802 34.4492 13.7081L25.3067 12.6958L21.5187 4.31357Z",width:"40",height:"40",viewBox:"0 0 40 40"}},88681:function(a,b,c){var d=c(85893),e=c(10071);c(67294);var f=function(a){var b=a.starRating,c=a.iconSize,f=a.color;return(0,d.jsx)(e.InlineChildren,{size:e.InlineChildren.Sizes.None,justifyContent:e.InlineChildren.Justification.FlexStart,alignItems:e.InlineChildren.Alignment.Center,children:b&&function(){var a=[];if(!b)return a;for(var g=1;g<=5;g+=1)g<=b?a.push((0,d.jsx)(e.Icon,{type:e.Icon.Types.StarFill,size:null!=c?c:e.Icon.Sizes.Small,color:null!=f?f:e.Icon.Colors.SystemGrey80},g)):g-.5<=b?a.push((0,d.jsx)(e.Icon,{type:e.Icon.Types.StarHalf,size:null!=c?c:e.Icon.Sizes.Small,color:null!=f?f:e.Icon.Colors.SystemGrey80},g)):a.push((0,d.jsx)(e.Icon,{type:e.Icon.Types.StarLine,size:null!=c?c:e.Icon.Sizes.Small,color:null!=f?f:e.Icon.Colors.SystemGrey80},g));return a}()})};b.Z=f},97137:function(a,b,c){c.d(b,{FN:function(){return t},Io:function(){return m},J0:function(){return s},P1:function(){return u},P4:function(){return o},Pk:function(){return k},Si:function(){return r},Wh:function(){return p},Xq:function(){return v},"_N":function(){return g},"_P":function(){return f},d5:function(){return i},jY:function(){return n},lK:function(){return l},"r$":function(){return q},xD:function(){return h},xm:function(){return j}});var d=c(11459),e=c(3532),f=function(a,b,c){(0,e.ZP)("review_modal_help_click",{order_uuid:a,store_id:b,use_case:c})},g=function(a,b){(0,e.ZP)("rate_action_add_tag",{store_id:a,order_uuid:b,type:"dasher"})},h=function(a,b){(0,e.ZP)("rate_action_remove_tag",{store_id:a,order_uuid:b,type:"dasher"})},i=function(a,b,c){(0,e.ZP)("rate_action_add_tag",{store_id:a,item_id:b,order_uuid:c,type:"item"})},j=function(){(0,e.ZP)("set_store_review_visibility",{visibility:"public"})},k=function(){(0,e.ZP)("set_store_review_visibility",{visibility:"private"})},l=function(a,b,c,f){f===d.Wc.RATING_VALUE_DOWNVOTE&&(0,e.ZP)("rate_action_select_thumb",{store_id:b,order_uuid:a,item_id:c,response:"down"}),f===d.Wc.RATING_VALUE_UPVOTE&&(0,e.ZP)("rate_action_select_thumb",{store_id:b,order_uuid:a,item_id:c,response:"up"})},m=function(a,b,c,d,f,g){return(0,e.ZP)("review_modal_submit_success",{store_id:a,order_uuid:b,store_score:c,dasher_score:d,order_type:f,use_case:g})},n=function(){(0,e.ZP)("rate_action_skip")},o=function(){return(0,e.ZP)("store_review_click_review_guidelines",{placement:"review_modal"})},p=function(a,b){(0,e.ZP)("card_click",{order_uuid:a,page:"review_submitted",store_id:b})},q=function(a,b,c){return(0,e.ZP)("review_modal_view",{order_uuid:a,store_id:b,type:"store",use_case:c})},r=function(a,b){return(0,e.ZP)("store_action_tap_see_all_reviews",{store_id:a,use_case:b})},s=function(a,b,c){(0,e.ZP)("store_review_preview_load",{store_id:a,num_reviews:b,has_google_reviews:c})},t=function(a,b){(0,e.ZP)("store_review_click",{store_id:a,review_id:null==b?void 0:b.consumerReviewUuid,page:"store",star_rating:null==b?void 0:b.starRating,is_google_review:(null==b?void 0:b.reviewSource)===d.H1.Google})},u=function(a,b,c,d,f){(0,e.ZP)("card_click",{store_id:a,item_id:b,card_position:null!=f?f:null,container:c,page:d})},v=function(a){(0,e.ZP)("store_page_action_tap_add_review",{storeId:a})}}}])